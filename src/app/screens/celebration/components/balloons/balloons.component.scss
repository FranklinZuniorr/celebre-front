@use '../../../../../vars.scss' as vars;

.balloons {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
    background-color: vars.$black;
    box-sizing: border-box;
    padding-left: 1rem;
    padding-right: 1rem;
    position: fixed;
    overflow: hidden;

    &_firework {
        position: absolute;
        width: 80rem;
        height: 80rem;
    }

    &_content {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 1rem;

        span {
            font-size: 1rem;
            animation: balloonTextAnim 2s ease 0s 1 normal forwards;

            &.exit {
                animation: exitBalloonText 1s ease 0s 1 normal forwards;

                @media only screen and (max-width: 1024px) {
                    animation: exitBalloonTextMobile 1s ease 0s 1 normal forwards;
                }
    
                @keyframes exitBalloonText {
                    0% {
                        transform: scale(1);
                        transform-origin: 50% 0%;
                    }
                
                    100% {
                        transform: scale(4);
                        transform-origin: 50% 0%;
                    }
                }

                @keyframes exitBalloonTextMobile {
                    0% {
                        transform: scale(1);
                        transform-origin: 50% 0%;
                    }
                
                    100% {
                        transform: scale(2.5);
                        transform-origin: 50% 0%;
                    }
                }
            }

            @keyframes balloonTextAnim {
                0% {
                    opacity: 0;
                    transform: translateY(-250px) rotate(-200deg);
                }
            
                100% {
                    opacity: 1;
                    transform: translateY(0) rotate(0deg);
                }
            }
        }

        img {
            width: 5rem;
            height: 5rem;
            cursor: pointer;
            animation: balloonEntrance 2s ease 0s 1 normal forwards, 
            balloonAnim 2s ease 2s infinite normal forwards, balloonAttention 2s ease 4s infinite normal forwards;

            &.exit {
                animation: exitBalloon 1s ease 0s 1 normal forwards;
    
                @keyframes exitBalloon {
                    0% {
                        opacity: 1;
                        transform: rotate(0) scale(1);
                    }
                
                    100% {
                        opacity: 0;
                        transform: rotate(-540deg) scale(10);
                    }
                }
            }

            @keyframes balloonEntrance {
                0% {
                    transform: translateY(calc(100vh + 10rem));
                }
            
                100% {
                    transform: translateY(0);
                }
            }

            @keyframes balloonAnim {
                0% {
                    transform: scale3d(1, 1, 1);
                }
            
                30% {
                    transform: scale3d(0.75, 1.25, 1);
                }
            
                40% {
                    transform: scale3d(1.25, 0.75, 1);
                }
            
                50% {
                    transform: scale3d(0.85, 1.15, 1);
                }
            
                65% {
                    transform: scale3d(1.05, 0.95, 1);
                }
            
                75% {
                    transform: scale3d(0.95, 1.05, 1);
                }
            
                100% {
                    transform: scale3d(1, 1, 1);
                }
            }

            @keyframes balloonAttention {
                0% {
                    animation-timing-function: ease-out;
                    transform: scale(1);
                    transform-origin: center center;
                }
            
                10% {
                    animation-timing-function: ease-in;
                    transform: scale(0.91);
                }
            
                17% {
                    animation-timing-function: ease-out;
                    transform: scale(0.98);
                }
            
                33% {
                    animation-timing-function: ease-in;
                    transform: scale(0.87);
                }
            
                45% {
                    animation-timing-function: ease-out;
                    transform: scale(1);
                }
            }
        }
    }
}